
import React, { useState } from "react";
import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { Calendar } from "@/components/ui/calendar";
import { CalendarIcon, Search, User } from "lucide-react";
import { format } from "date-fns";
import {
  Table,
  TableHeader,
  TableHead,
  TableBody,
  TableRow,
  TableCell,
} from "@/components/ui/table";
import { Popover, PopoverTrigger, PopoverContent } from "@/components/ui/popover";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  Legend,
  ResponsiveContainer,
  ReferenceLine
} from "recharts";

// Table columns for Test Result Records
const tableColumns = [
  "Location",
  "MasterID (Key)",
  "Equipment Type",
  "Sample ID",
  "SampleDate",
  "Time",
  "Sample Type",
  "Collected by",
  "ReportedBy",
  "Sample Volume (mL)",
  "Comments",
  "Test type",
  "Test Value",
  "Test Value Units",
];

// Single sample table row as requested
const mockTableRows = [
  {
    "Location": "1",
    "MasterID (Key)": "94",
    "Equipment Type": "Vessel",
    "Sample ID": "01AP4",
    "SampleDate": "8/14/2024",
    "Time": "8:00AM PST",
    "Sample Type": "Planktonic",
    "Collected by": "Tom P.,  Mitchell R.",
    "ReportedBy": "EnhanceCo",
    "Sample Volume (mL)": "250",
    "Comments": "Dark Black Water",
    "Test type": "ATP (Free)",
    "Test Value": "2",
    "Test Value Units": "RLUs"
  }
];

// Convert the new data to chart format with headers
const newGraphHeaders = ["Time","Ba1","Ba2","Ba3","Yp1","Yp2","Yp3","Yp4","Ft","CbA","CbB","Bru","Ric","Pox","Bt","Sa","Ba","Yp","CbA","IPC","NTC"];

// Updated time series data with all 20 columns
const newGraphData = [
  [7,82,38,50,36,58,22,30,56,27,30,95,34,71,24,36,44,29,43,71,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [14,78,38,47,37,59,22,30,56,27,31,88,34,64,24,36,44,29,44,72,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [21,76,39,45,36,60,22,30,56,27,31,86,34,60,24,36,44,30,44,73,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [28,76,39,44,36,60,22,30,56,27,31,85,34,60,24,36,44,30,46,74,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [35,76,39,43,36,61,22,30,56,27,30,87,34,60,24,36,44,30,46,74,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [42,76,39,43,36,61,22,30,56,27,31,89,34,62,24,36,44,30,46,73,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [49,77,39,44,37,61,22,30,56,27,31,94,34,65,24,36,44,30,46,73,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [56,79,39,45,36,61,22,30,56,27,31,97,34,68,24,36,44,30,46,74,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [63,79,39,46,37,61,22,30,56,27,31,100,34,70,24,36,44,30,46,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [70,80,39,46,37,62,22,30,56,27,31,103,34,72,24,36,44,30,45,73,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [77,80,39,46,36,62,22,30,56,27,31,104,34,74,24,36,44,30,46,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [84,81,39,46,37,62,22,30,56,27,31,106,34,75,24,36,44,30,46,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [91,81,39,46,36,62,22,30,56,27,31,107,34,76,24,36,44,30,45,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [98,81,39,47,37,62,22,30,56,27,30,108,34,77,23,36,44,29,46,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [105,82,39,47,37,62,22,30,56,27,31,109,34,78,23,36,44,29,46,73,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [112,82,39,47,37,62,22,30,56,27,31,110,34,79,23,36,44,29,45,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [119,82,39,47,37,62,22,30,56,27,31,110,34,79,23,36,44,29,45,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [126,82,39,47,37,62,21,30,56,27,31,111,34,80,23,36,44,29,45,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [133,82,38,47,37,62,22,30,56,27,30,111,34,81,23,36,44,29,45,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [140,82,39,47,37,62,22,30,56,27,31,111,34,81,23,36,44,29,45,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [147,82,39,48,37,62,22,30,56,27,31,112,34,81,23,36,44,29,45,74,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [154,81,38,47,36,61,21,29,55,26,30,110,34,81,23,35,43,29,45,72,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [161,81,38,47,36,61,21,29,55,26,30,111,34,81,23,35,43,29,45,72,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [168,82,39,47,36,62,21,30,56,26,30,111,34,81,23,36,44,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [175,82,39,47,37,62,21,30,56,27,30,111,34,81,23,36,44,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [182,82,39,47,37,62,21,30,56,27,30,111,34,82,23,36,44,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [189,82,39,47,37,62,21,30,55,27,30,111,34,82,23,36,44,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [196,82,39,47,37,62,21,30,55,27,30,111,34,82,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [203,81,39,47,37,62,21,30,56,27,30,111,34,82,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [210,81,39,47,37,62,21,30,56,27,30,111,34,82,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [217,81,39,47,37,62,21,30,56,27,30,111,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [224,81,39,47,37,61,21,30,56,27,30,111,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [231,82,39,47,37,62,21,30,56,27,30,111,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [238,81,39,47,37,62,21,30,56,27,30,111,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [245,81,39,47,37,61,21,30,56,27,30,111,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [252,81,39,46,37,61,21,30,56,27,30,111,34,83,23,35,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [259,81,39,47,37,61,21,30,56,27,30,111,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [266,81,39,46,37,61,21,30,56,27,30,110,34,83,23,35,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [273,81,39,47,37,61,21,30,56,27,30,109,34,83,23,35,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [280,81,39,47,37,61,21,30,56,27,30,109,34,82,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [287,81,39,47,37,61,22,30,56,27,30,109,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [294,80,39,47,37,61,21,30,56,27,30,108,34,82,23,35,43,30,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [301,80,38,47,37,61,21,30,56,27,30,108,34,83,23,35,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [308,80,39,47,37,61,22,30,56,27,30,108,34,82,23,35,43,30,44,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [315,80,39,46,37,61,21,30,56,27,30,109,34,83,23,36,43,30,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [322,80,38,46,37,61,22,29,56,27,30,108,34,83,23,36,43,29,45,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [329,79,38,47,37,61,22,30,56,27,30,109,34,82,23,36,43,30,44,73,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [336,80,38,47,37,61,22,30,56,27,30,109,35,82,23,36,43,29,44,73,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [343,80,38,47,37,61,22,30,56,27,30,109,35,82,23,36,43,29,44,73,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [350,79,38,47,37,61,22,29,56,27,30,109,35,82,23,35,43,29,44,73,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [357,79,38,47,37,61,22,29,56,27,30,109,34,83,23,36,43,29,44,73,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [364,79,38,47,37,61,21,29,56,27,30,109,35,83,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [371,79,38,47,37,61,22,29,56,27,30,110,34,83,23,36,43,30,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [378,79,38,47,37,61,22,29,56,27,30,110,35,83,23,36,43,30,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [385,79,38,47,37,61,22,29,56,27,30,110,35,83,23,36,43,29,44,72,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [392,79,38,47,37,61,22,31,56,27,30,109,35,83,23,36,43,30,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [399,79,38,47,37,61,22,31,56,27,30,109,35,83,23,35,43,30,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [406,79,38,47,37,61,22,29,56,27,30,109,35,83,23,35,43,30,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [413,78,38,47,37,61,21,29,56,27,30,109,34,83,23,36,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [420,78,38,47,37,60,21,29,56,27,30,109,34,83,23,35,43,29,43,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [427,78,38,47,37,60,21,29,56,27,30,109,34,82,23,35,43,29,43,72,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [434,78,38,47,37,60,21,29,56,27,30,109,34,82,23,35,43,29,43,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [441,78,38,47,37,60,21,31,56,27,30,109,34,82,23,35,43,29,43,72,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [448,78,38,47,37,60,21,31,56,27,30,109,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [455,78,38,48,37,60,21,29,56,27,30,110,34,82,23,35,43,29,43,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [462,78,38,48,37,60,21,31,56,27,30,110,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [469,78,38,48,36,60,21,31,56,27,30,109,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [476,77,38,48,36,60,21,29,56,27,30,109,34,82,23,35,43,29,43,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [483,77,38,48,36,60,21,29,56,27,30,110,34,82,23,35,43,29,43,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [490,77,38,47,36,59,21,29,56,27,30,109,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [497,77,38,48,36,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [504,77,38,48,36,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [511,77,38,48,37,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [518,77,38,48,36,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [525,77,38,48,36,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [532,77,38,48,37,59,21,31,56,27,30,109,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [539,77,38,48,37,59,21,31,56,27,30,109,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [546,77,38,48,37,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [553,77,38,48,37,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [560,77,38,48,37,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [567,76,38,48,37,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [574,76,38,48,37,59,21,31,56,27,30,110,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [581,76,38,48,37,59,21,31,56,27,31,110,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [588,76,38,48,37,59,21,31,56,27,31,111,34,82,23,35,43,29,44,72,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [595,76,38,46,37,59,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [602,76,38,46,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [609,76,38,46,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [616,76,38,46,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [623,76,38,46,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [630,76,38,45,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [637,75,38,46,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [644,75,38,46,37,58,20,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [651,75,38,46,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [658,75,38,46,37,58,21,31,56,27,30,111,34,82,23,35,43,29,44,71,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [665,75,38,46,37,58,21,31,56,27,30,112,34,82,23,35,43,29,44,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [672,75,38,46,37,58,21,31,56,27,30,112,34,82,23,35,43,29,44,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [679,76,38,46,37,58,21,31,56,27,31,112,34,82,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [686,76,38,46,37,58,21,31,56,27,31,113,34,82,23,35,43,29,44,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [693,76,38,45,37,57,20,31,56,26,30,113,34,82,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [700,75,38,46,37,57,21,30,56,27,30,113,35,82,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [707,75,38,46,37,57,21,30,56,26,30,114,34,83,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [714,75,38,46,37,57,21,30,56,26,30,114,34,83,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [721,75,38,46,37,57,21,31,56,27,30,115,34,83,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [728,75,38,46,37,57,21,30,56,27,30,116,34,84,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [735,75,38,46,37,57,21,30,56,27,30,117,34,83,23,35,43,29,43,71,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [742,75,38,46,37,57,21,30,56,27,30,118,34,84,23,35,43,29,43,70,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [749,75,38,46,37,57,21,30,56,27,30,119,34,84,23,35,43,30,43,70,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [756,75,38,46,37,57,21,30,56,27,30,119,34,84,23,35,43,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [763,74,38,46,37,56,21,30,56,27,30,121,34,85,23,35,43,28,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [770,75,38,46,37,56,22,30,56,27,30,122,34,86,23,35,43,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [777,74,38,46,37,56,22,30,56,27,30,124,34,87,23,35,43,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [784,74,38,46,37,56,21,30,56,27,30,126,34,88,23,35,43,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [791,74,38,46,37,57,22,31,56,27,30,127,34,88,23,35,43,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [798,74,38,46,37,56,21,31,56,27,30,129,34,89,23,35,43,28,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [805,74,38,46,37,56,22,31,56,27,30,131,34,90,23,35,43,30,43,70,47,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
  [812,74,38,46,37,56,22,31,56,27,30,133,34,91,23,35,42,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [819,74,38,46,37,56,22,31,56,27,30,135,34,92,23,34,42,29,43,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [826,74,38,46,37,56,22,31,56,27,30,137,34,94,23,34,42,29,43,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [833,74,38,46,37,56,22,31,56,27,30,140,34,96,23,34,42,29,42,70,46,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [840,74,38,45,37,56,21,31,55,26,30,141,34,96,23,34,42,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [847,74,38,45,37,56,22,31,56,27,30,143,34,98,23,34,42,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [854,73,38,45,37,56,21,31,56,27,30,145,34,100,23,34,42,29,43,70,46,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [861,73,38,45,37,56,21,30,56,27,30,147,34,101,23,34,42,28,42,70,46,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [868,73,38,45,37,56,21,31,56,27,30,149,34,103,23,34,42,29,42,70,46,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [875,73,38,45,37,56,21,31,56,27,30,152,34,104,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [882,73,38,45,37,56,21,30,56,27,30,153,34,106,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [889,73,38,45,37,56,22,31,56,27,30,155,34,108,23,34,43,29,43,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [896,73,38,45,37,56,22,30,56,27,30,157,34,110,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [903,73,38,45,37,55,22,30,56,27,30,159,35,111,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [910,73,38,46,37,56,21,30,56,27,30,161,34,113,23,34,43,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [917,73,38,45,37,56,22,30,56,27,30,162,34,115,23,34,43,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [924,73,38,45,37,55,21,30,56,27,30,164,35,116,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [931,73,38,45,37,55,21,30,56,27,30,166,34,118,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [938,73,38,46,37,55,22,30,56,27,30,167,35,119,23,34,43,29,43,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [945,73,38,45,37,55,22,30,56,27,30,168,35,120,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [952,73,38,46,37,55,21,30,56,27,30,169,34,122,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [959,73,38,46,37,55,21,29,56,27,30,170,34,123,23,34,43,29,43,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [966,73,38,45,37,55,21,30,56,27,30,171,34,123,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [973,72,38,45,37,55,21,29,56,27,30,172,34,124,23,34,42,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [980,72,38,45,36,55,21,30,56,27,30,173,35,126,23,34,43,29,43,69,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [987,72,37,46,37,55,21,29,56,27,30,173,34,127,23,34,43,29,42,70,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [994,72,38,45,36,55,21,30,56,27,30,175,35,128,23,34,43,29,43,69,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1001,72,37,45,37,55,21,29,56,27,30,175,34,129,23,34,42,29,42,69,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1008,72,38,45,36,54,21,30,56,27,30,175,34,131,23,34,42,29,43,69,45,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1015,72,38,45,36,54,21,29,56,27,30,176,34,131,23,34,42,29,43,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1022,72,38,45,36,54,21,29,56,27,30,176,34,132,23,34,43,29,43,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1029,72,38,45,36,54,21,29,56,27,30,177,34,133,23,34,43,29,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1036,72,37,45,36,54,21,29,56,27,30,177,34,133,23,35,43,29,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1043,72,38,45,36,54,21,29,56,27,30,179,34,134,23,35,43,28,43,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1050,72,37,45,37,54,21,29,56,27,30,180,34,135,23,35,43,29,43,69,42,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1057,72,37,45,36,54,21,29,56,27,30,181,34,136,23,35,43,29,43,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1064,72,37,45,36,54,21,29,56,27,30,181,34,137,23,35,43,29,43,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1071,72,37,45,36,54,21,29,56,27,30,182,34,138,23,35,43,29,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1078,72,38,45,37,54,21,29,55,26,30,183,34,138,23,35,43,29,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1085,72,37,45,37,54,21,29,56,27,30,183,34,138,23,33,43,29,43,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1092,71,37,45,36,54,21,29,55,26,30,183,34,138,23,33,42,28,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1099,71,37,46,36,54,21,29,55,27,30,181,34,138,23,35,42,29,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1106,71,37,46,36,54,21,29,55,27,30,181,34,139,23,35,42,29,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1113,71,37,46,37,54,21,29,56,27,30,182,34,139,23,34,42,29,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1120,71,37,46,37,54,21,29,55,27,30,182,34,140,23,34,42,28,42,69,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1127,71,37,46,37,54,21,29,55,27,30,182,34,140,23,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1134,71,37,46,37,53,21,29,55,27,30,182,34,141,23,34,42,29,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1141,71,38,46,37,53,21,29,55,27,30,182,34,142,23,35,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1148,71,37,46,37,53,21,30,55,27,30,183,34,142,23,34,42,29,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1155,72,37,46,37,54,21,30,56,27,30,183,34,143,23,34,42,29,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1162,71,37,46,37,54,21,29,56,27,30,183,34,143,23,35,43,29,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1169,71,37,46,37,54,21,30,56,27,30,183,34,143,23,34,43,29,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1176,71,38,46,37,53,21,30,56,27,30,184,34,144,23,33,43,29,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1183,71,38,46,37,53,21,30,56,27,30,183,34,144,23,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1190,71,37,46,37,53,21,29,55,27,30,183,34,145,23,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1197,71,37,46,37,53,21,29,55,27,30,184,34,145,23,34,43,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1204,71,37,46,37,53,21,29,55,27,30,185,34,145,23,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1211,71,38,46,37,53,21,30,55,27,30,185,35,145,23,34,43,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1218,71,37,46,37,53,21,30,56,27,30,185,35,145,23,34,43,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1225,71,38,46,37,53,21,30,56,27,30,185,35,145,24,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1232,71,38,46,37,53,21,30,56,27,30,186,34,145,23,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1239,71,38,46,37,53,21,30,56,27,30,186,35,145,23,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1246,71,38,47,37,53,21,30,56,27,30,187,35,145,23,34,42,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1253,71,38,47,37,53,21,30,56,27,30,187,35,145,23,34,43,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1260,71,38,47,37,53,21,30,56,27,30,187,35,145,23,34,43,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1267,71,38,47,37,53,21,30,56,27,30,186,34,145,24,34,43,28,42,68,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1274,71,38,47,37,53,21,30,56,27,30,186,35,146,24,34,43,28,42,68,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1281,71,38,47,37,52,21,29,56,27,30,186,35,147,23,34,43,28,42,68,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1288,71,38,47,37,52,21,29,56,27,30,186,35,147,24,34,43,28,42,68,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1295,71,38,47,37,52,21,30,56,27,30,186,35,146,24,34,43,28,42,68,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1302,71,38,47,37,52,21,29,56,27,30,185,34,146,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1309,71,38,47,37,52,21,29,56,27,30,186,35,146,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1316,71,38,47,37,52,21,29,56,27,30,185,35,146,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1323,71,37,47,36,52,21,29,56,27,30,185,35,146,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1330,71,37,47,36,52,21,29,55,27,30,185,35,146,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1337,71,37,47,36,52,21,29,55,27,30,185,35,146,23,34,42,29,42,67,44,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1344,71,37,48,36,52,21,29,55,26,30,185,35,146,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1351,70,37,48,36,52,21,29,55,27,30,184,35,146,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1358,70,37,48,36,52,20,29,55,27,30,184,35,146,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1365,70,37,49,36,52,21,29,55,27,30,184,35,146,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1372,71,37,49,36,52,20,29,55,27,30,184,35,146,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1379,70,37,49,36,52,21,29,55,27,30,184,35,145,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1386,70,37,49,36,52,21,29,55,27,30,184,35,145,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1393,70,37,49,36,51,21,29,55,27,30,184,35,145,23,34,42,28,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1400,70,37,51,36,51,20,29,55,27,30,183,34,145,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1407,70,37,51,36,51,20,29,55,27,30,183,35,146,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1414,70,37,51,36,51,20,29,55,27,30,183,35,147,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1421,70,37,51,36,51,22,29,55,27,30,183,35,148,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1428,70,37,51,36,51,21,29,55,26,30,183,35,148,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1435,70,37,51,36,51,21,29,55,27,30,182,35,148,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1442,70,37,51,36,51,21,29,55,27,30,182,35,150,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1449,71,37,51,36,51,22,29,55,27,30,182,35,151,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1456,71,37,51,36,51,20,29,55,27,30,182,35,151,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1463,71,37,51,36,51,20,29,55,27,30,181,35,151,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1470,71,38,51,36,51,22,29,55,27,30,182,35,151,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1477,71,37,51,36,51,22,29,55,27,30,181,35,151,23,34,42,28,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1484,71,37,51,36,51,22,29,56,27,30,180,35,151,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1491,71,37,52,36,51,21,29,55,27,30,180,35,151,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1498,71,37,51,36,51,21,29,55,27,30,180,35,149,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1505,71,37,51,36,51,21,29,55,27,30,179,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1512,71,37,51,36,50,21,29,55,27,30,179,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1519,71,37,51,36,50,21,29,55,27,30,179,35,149,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1526,71,37,52,36,50,21,29,55,27,30,178,35,149,23,34,42,28,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1533,71,37,52,36,50,21,29,55,27,30,180,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1540,70,37,52,36,50,21,29,55,27,30,180,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1547,70,37,52,36,50,21,29,55,27,30,180,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1554,70,37,53,36,50,21,29,55,27,30,180,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1561,70,37,53,36,50,21,29,55,27,30,179,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1568,71,37,53,36,50,21,29,55,27,30,179,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1575,71,37,53,36,50,21,29,55,27,30,180,35,149,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1582,71,37,53,36,50,21,29,55,27,30,180,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1589,71,37,53,36,50,21,29,55,27,30,179,35,148,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1596,71,37,54,36,50,21,29,55,27,30,179,35,148,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1603,71,37,54,36,50,21,29,55,27,30,178,35,148,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1610,71,37,54,36,50,21,29,55,27,30,178,35,149,23,34,42,29,41,66,41,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1617,71,37,54,36,50,21,29,55,27,30,178,35,149,23,34,42,29,40,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1624,71,37,54,36,50,21,29,55,27,30,178,35,150,23,34,42,29,42,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1631,71,37,54,36,50,21,29,55,27,30,178,35,149,23,34,42,29,41,67,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1638,71,37,53,36,50,21,29,55,27,30,175,35,148,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1645,71,37,54,36,50,21,29,55,27,30,175,35,148,23,34,42,29,42,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1652,71,37,54,36,50,21,29,55,27,30,173,35,149,23,34,42,29,42,66,42,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1659,71,37,54,36,50,21,29,55,27,30,173,35,149,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1666,71,37,54,36,50,21,29,55,27,30,172,35,149,23,34,42,29,42,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1673,71,37,54,36,50,21,29,55,27,30,171,35,150,23,34,42,29,42,66,41,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1680,71,37,55,36,50,21,29,55,27,30,171,35,150,23,34,42,29,42,66,41,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1687,71,37,55,36,50,21,29,55,27,30,171,35,150,23,34,42,29,42,66,41,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1694,71,37,55,36,50,21,29,55,27,30,171,35,149,23,34,42,29,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1701,71,37,55,36,50,21,29,55,27,30,170,35,149,23,34,42,29,42,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1708,72,37,55,36,50,21,29,55,27,30,170,35,149,23,34,42,29,41,66,41,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1715,72,37,55,36,50,21,29,55,27,30,170,35,149,23,34,42,29,41,66,43,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1722,72,37,55,36,50,21,29,55,27,30,167,35,150,23,34,42,29,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1729,72,37,55,36,50,21,29,55,27,30,168,35,150,23,34,42,29,41,66,41,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1736,72,37,55,36,50,21,29,55,27,30,171,35,150,23,34,42,26,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1743,72,37,55,36,49,21,29,55,27,30,172,35,149,23,34,42,29,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1750,72,37,55,36,49,21,29,55,27,30,171,35,149,23,34,42,29,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1757,72,37,56,36,49,21,29,55,27,30,171,35,149,23,34,42,29,42,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1764,72,37,56,36,49,21,29,55,27,30,171,35,149,23,34,42,26,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1771,72,37,56,36,49,21,29,55,27,30,171,35,148,23,34,42,29,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1778,72,37,56,36,49,21,30,55,27,30,170,35,148,23,34,42,26,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1785,72,37,56,36,47,21,29,55,27,30,172,35,147,23,34,42,27,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1792,72,37,56,35,49,21,29,55,27,30,172,35,147,23,34,42,29,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
  [1799,72,37,56,36,50,21,29,55,27,30,172,35,147,23,34,42,29,41,66,40,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0],
];

// Map the newGraphData arrays to objects with keys from newGraphHeaders
const lineChartData = newGraphData.map(row => {
  const obj: Record<string, number> = {};
  newGraphHeaders.forEach((header, i) => {
    obj[header] = row[i];
  });
  return obj;
});

export default function Dashboard() {
  const [search, setSearch] = useState("");
  const [date, setDate] = useState<Date | undefined>();
  const [location, setLocation] = useState<string>("");

  // Get unique locations for the filter dropdown
  const uniqueLocations = [...new Set(mockTableRows.map(row => row.Location))];

  // Updated filter logic to include location
  const filteredRows = mockTableRows.filter((row) =>
    (!search ||
      row.Location.toLowerCase().includes(search.toLowerCase()) ||
      row["Sample ID"].toLowerCase().includes(search.toLowerCase()) ||
      row["Collected by"].toLowerCase().includes(search.toLowerCase()) ||
      row.ReportedBy.toLowerCase().includes(search.toLowerCase())) &&
    (!date || row.SampleDate === format(date, "yyyy-MM-dd")) &&
    (!location || row.Location === location)
  );

  return (
    <div className="max-w-7xl mx-auto py-8 px-4">
      <h1 className="text-2xl font-bold mb-6 flex items-center gap-2">
        <User className="inline w-6 h-6" /> Test Results Dashboard
      </h1>

      {/* --- Timeseries Chart --- */}
      <Card className="mb-8">
        <CardHeader>
          <CardTitle>Updated - Positive Control Test - PDR - June 25, 2025</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="w-full h-96">
            <ResponsiveContainer width="100%" height="100%">
              <LineChart
                data={lineChartData}
                margin={{ top: 16, right: 32, left: 16, bottom: 20 }}
              >
                <CartesianGrid strokeDasharray="3 3" />
                <XAxis dataKey="Time" label={{ value: "Time", position: "insideBottomRight", offset: -8 }} />
                <YAxis 
                  label={{ value: "Value", angle: -90, position: "insideLeft", offset: 10 }}
                  tickCount={5}
                  interval="preserveStartEnd"
                />
                <Tooltip />
                <Legend verticalAlign="top" height={36} />
                <ReferenceLine x={136} stroke="red" strokeWidth={2} />
                <Line type="monotone" dataKey="Ba1" stroke="#e11d48" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Ba2" stroke="#7c3aed" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Ba3" stroke="#059669" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Yp1" stroke="#dc2626" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Yp2" stroke="#2563eb" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Yp3" stroke="#ea580c" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Yp4" stroke="#0891b2" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Ft" stroke="#ca8a04" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="CbA" stroke="#16a34a" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="CbB" stroke="#c2410c" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Bru" stroke="#9333ea" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Ric" stroke="#0d9488" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Pox" stroke="#dc2626" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Bt" stroke="#7c2d12" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Sa" stroke="#065f46" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Ba" stroke="#991b1b" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="Yp" stroke="#1e40af" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="IPC" stroke="#be185d" strokeWidth={2} dot={false} />
                <Line type="monotone" dataKey="NTC" stroke="#374151" strokeWidth={2} dot={false} />
              </LineChart>
            </ResponsiveContainer>
          </div>
        </CardContent>
      </Card>

      {/* --- Filters and Table --- */}
      <Card className="mb-8">
        <CardHeader>
          <CardTitle>Filters</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="flex gap-4 flex-wrap">
            <div className="flex items-center gap-2">
              <Input
                placeholder="Search by location, ID, or user"
                value={search}
                onChange={e => setSearch(e.target.value)}
                className="max-w-xs"
              />
              <Search className="w-4 h-4 text-muted-foreground" />
            </div>
            <Select value={location} onValueChange={setLocation}>
              <SelectTrigger className="w-40">
                <SelectValue placeholder="Filter by location" />
              </SelectTrigger>
              <SelectContent>
                {uniqueLocations.map((loc) => (
                  <SelectItem key={loc} value={loc}>
                    Location {loc}
                  </SelectItem>
                ))}
              </SelectContent>
            </Select>
            <Popover>
              <PopoverTrigger asChild>
                <Button
                  variant={"outline"}
                  className="flex items-center gap-2"
                >
                  <CalendarIcon className="w-4 h-4" />
                  {date ? format(date, "PPP") : "Pick date"}
                </Button>
              </PopoverTrigger>
              <PopoverContent className="w-auto p-0" align="start">
                <Calendar
                  mode="single"
                  selected={date}
                  onSelect={setDate}
                  initialFocus
                  className="p-3 pointer-events-auto"
                />
              </PopoverContent>
            </Popover>
            <Button
              variant="ghost"
              onClick={() => {
                setDate(undefined);
                setSearch("");
                setLocation("");
              }}
            >
              Clear Filters
            </Button>
          </div>
        </CardContent>
      </Card>
      <Card>
        <CardHeader>
          <CardTitle>Test Result Records</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="overflow-x-auto">
            <Table>
              <TableHeader>
                <TableRow>
                  {tableColumns.map((col) => (
                    <TableHead key={col}>{col}</TableHead>
                  ))}
                </TableRow>
              </TableHeader>
              <TableBody>
                {filteredRows.length > 0 ? (
                  filteredRows.map((row, idx) => (
                    <TableRow key={idx}>
                      {tableColumns.map((col) => (
                        <TableCell key={col}>{row[col] || ""}</TableCell>
                      ))}
                    </TableRow>
                  ))
                ) : (
                  <TableRow>
                    <TableCell colSpan={tableColumns.length} className="text-center text-sm text-muted-foreground">
                      No results found for the selected filter.
                    </TableCell>
                  </TableRow>
                )}
              </TableBody>
            </Table>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
